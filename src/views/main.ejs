<%
    // get animation style and keyframes
    textAnimation = getAnimation(textAnimation) 
%>
<%# SVG definition %>
<svg xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    width="<%= width %>"
    height="<%= height %>"
    viewBox="0 0 <%= width %> <%= height %>"
    style="<%=`
    background:${backgroundColor};
    `%>">

    <style>
        /* SVG STYLE */
        :root {
            --glow-color: <%= glowColor %>;
            --title-font-size: <%= titleFontSize %>px;
            --title-color:  <%= titleColor %>;
            --subtitle-font-size: <%= subtitleFontSize %>px;
            --subtitle-color: <%= subtitleColor %>;
            --border-color: <%= borderColor %>;
            --border-opacity: <%=borderOpacity%>%;
            --border-width: 10px;
            --text-font-family: 'Franklin Gothic', Arial, sans-serif;
            --text-font-weight: bold;
        }

        <%- include('title/css') %>
        <%- include('subtitle/css')%>
        <%- include('frameborder/css')%>

        <%= textAnimation.keyframes %>
    </style>

    <!-- frame border -->
    <%- include('frameborder/show') %> 

    <%- include('svg/defs') %> 

    <%# texts backgrounds %>
    
    <!-- title background -->
    <% var titleBgWidth = (title.length * (+titleFontSize / 1.5))  %>
    <% var titleBgHeight = +titleFontSize + 10 %>
        
    <%- include('titleBackground/border', { titleBgWidth, titleBgHeight }) %> 
    <%- include('titleBackground/show', { titleBgWidth, titleBgHeight }) %> 

    <!-- subtitle background -->
    <% var subtitleBgWidth = (subtitle.length * (+subtitleFontSize / 1.5))  %>
    <% var subtitleBgHeight = +subtitleFontSize + 10 %>

    <%- include('subtitleBackground/show', { subtitleBgWidth, subtitleBgHeight }) %> 

    <%# title definition %>
    <%- include('title/show') %> 
    
    <%# subtitle definition %>
    <%- include('subtitle/show') %> 
    
</svg>